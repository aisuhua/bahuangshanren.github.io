<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>小白向Hexo博客搭建 - 八荒山人的博客</title><meta name=keywords content="[Hexo,blog,Github Pages,matery]">
<meta name=Description content="使用Github Pages和Hexo搭建个人博客"><meta property="og:title" content="小白向Hexo博客搭建">
<meta property="og:description" content="使用Github Pages和Hexo搭建个人博客">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"><meta property="og:image" content="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImagePreview.svg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-05-21T20:00:00+08:00">
<meta property="article:modified_time" content="2020-05-21T20:00:00+08:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImagePreview.svg">
<meta name=twitter:title content="小白向Hexo博客搭建">
<meta name=twitter:description content="使用Github Pages和Hexo搭建个人博客">
<meta name=application-name content="八荒山人的博客">
<meta name=apple-mobile-web-app-title content="八荒山人的博客"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/><link rel=next href=https://www.bahuangshanren.tech/adobe%E7%B3%BB%E5%88%97%E4%B8%8B%E8%BD%BD%E7%9B%B4%E9%93%BE/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"小白向Hexo博客搭建","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.bahuangshanren.tech\/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA\/"},"image":["https:\/\/gitee.com\/BahuangShanren\/picture\/raw\/master\/君と打上花火.jpg"],"genre":"posts","keywords":"Hexo","wordcount":11825,"url":"https:\/\/www.bahuangshanren.tech\/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA\/","datePublished":"2020-05-21T20:00:00+08:00","dateModified":"2020-05-21T20:00:00+08:00","publisher":{"@type":"Organization","name":"八荒山人","logo":"https:\/\/gitee.com\/BahuangShanren\/picture\/raw\/master\/君と打上花火_方形.jpg"},"author":{"@type":"Person","name":"八荒山人"},"description":"使用Github Pages和Hexo搭建个人博客"}</script></head>
<body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=八荒山人的博客>八荒山人的博客</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/posts/> 归档 </a><a class=menu-item href=/categories/> 分类 </a><a class=menu-item href=/tags/> 标签 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=八荒山人的博客>八荒山人的博客</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
取消
</a>
</div><a class=menu-item href=/posts/ title>归档</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/tags/ title>标签</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>目录</h2>
<div class=toc-content id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">小白向Hexo博客搭建</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://www.bahuangshanren.tech title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>八荒山人</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E5%8D%9A%E5%AE%A2/><i class="far fa-folder fa-fw"></i>博客</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-05-21>2020-05-21</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 11825 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 24 分钟&nbsp;</div>
</div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg title="使用Github Pages和Hexo搭建个人博客"></div><div class="details toc" id=toc-static kept>
<div class="details-summary toc-title">
<span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#前言>前言</a></li>
<li><a href=#配置环境>配置环境</a>
<ul>
<li><a href=#安装nodejs>安装Node.js</a></li>
<li><a href=#安装git>安装Git</a></li>
<li><a href=#更改npm仓库地址建议>更改npm仓库地址（建议）</a>
<ul>
<li><a href=#法一改变默认地址>法一：改变默认地址</a></li>
<li><a href=#法二安装cnpm>法二：安装cnpm</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#安装hexo>安装Hexo</a></li>
<li><a href=#连接git与本地>连接Git与本地</a>
<ul>
<li><a href=#全局设置git用户名和邮箱>全局设置Git用户名和邮箱</a></li>
<li><a href=#使用ssh连接到github>使用SSH连接到GitHub</a></li>
<li><a href=#使用ssh连接到coding>使用SSH连接到Coding</a></li>
</ul>
</li>
<li><a href=#创建github-pages>创建GitHub Pages</a></li>
<li><a href=#创建coding-pages>创建Coding Pages</a></li>
<li><a href=#下载matery主题>下载matery主题</a></li>
<li><a href=#配置主题>配置主题</a>
<ul>
<li><a href=#配置hexo的_configyml文件>配置Hexo的<code>_config.yml</code>文件</a>
<ul>
<li><a href=#切换主题>切换主题</a></li>
<li><a href=#基础设置>基础设置</a></li>
<li><a href=#修改url>修改URL</a></li>
<li><a href=#屏幕适配优化建议>屏幕适配优化（建议）</a></li>
<li><a href=#修改deploy地址>修改deploy地址</a></li>
<li><a href=#修改代码高亮>修改代码高亮</a></li>
<li><a href=#增加搜索模块可选>增加搜索模块（可选）</a></li>
<li><a href=#添加rss订阅支持模块可选>添加RSS订阅支持模块（可选）</a></li>
<li><a href=#增加中文链接转拼音模块可选>增加中文链接转拼音模块（可选）</a></li>
<li><a href=#增加emoji表情支持可选>增加Emoji表情支持（可选）</a></li>
</ul>
</li>
<li><a href=#配置matery主题的_configyml文件>配置matery主题的<code>_config.yml</code>文件</a>
<ul>
<li><a href=#更改图片>更改图片</a></li>
<li><a href=#修改社交链接>修改社交链接</a></li>
<li><a href=#jsdelivr的cdn加速服务建议>jsDelivr的CDN加速服务（建议）</a></li>
<li><a href=#百度统计可选>百度统计（可选）</a></li>
<li><a href=#谷歌统计可选>谷歌统计（可选）</a></li>
</ul>
</li>
<li><a href=#新增博客功能页面可选>新增博客功能页面（可选）</a>
<ul>
<li><a href=#新建分类-categories-页>新建分类 categories 页</a></li>
<li><a href=#新建标签-tags-页>新建标签 tags 页</a></li>
<li><a href=#新建留言板-contact-页>新建留言板 contact 页</a></li>
<li><a href=#新增评论插件>新增评论插件</a></li>
<li><a href=#新建友情链接-friends-页>新建友情链接 friends 页</a></li>
<li><a href=#新建404页>新建404页</a></li>
<li><a href=#新增分享插件>新增分享插件</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#文章设置>文章设置</a>
<ul>
<li><a href=#front-matter设置建议>Front-matter设置（建议）</a></li>
<li><a href=#front-matter选项解释>Front-matter选项解释</a></li>
</ul>
</li>
<li><a href=#新建文章picgo配置图床与发布>新建文章、PicGo配置图床与发布</a>
<ul>
<li><a href=#新建文章>新建文章</a></li>
<li><a href=#配置图床建议>配置图床（建议）</a>
<ul>
<li><a href=#法一>法一</a></li>
<li><a href=#法二>法二</a></li>
<li><a href=#法三>法三</a></li>
<li><a href=#法四>法四</a></li>
</ul>
</li>
<li><a href=#发布文章>发布文章</a>
<ul>
<li><a href=#hexo常用命令>Hexo常用命令</a>
<ul>
<li><a href=#hexo-clean>hexo clean</a></li>
<li><a href=#hexo-generate>hexo generate</a></li>
<li><a href=#hexo-server>hexo server</a></li>
<li><a href=#hexo-deploy>hexo deploy</a></li>
</ul>
</li>
<li><a href=#快速发布>快速发布</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#自定义域名可选>自定义域名（可选）</a>
<ul>
<li><a href=#域名解析>域名解析</a></li>
<li><a href=#域名绑定>域名绑定</a>
<ul>
<li><a href=#法一-1>法一</a></li>
<li><a href=#法二-1>法二</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#参考链接>参考链接</a></li>
</ul>
</nav></div>
</div><div class=content id=content><h2 id=前言>前言</h2>
<ol>
<li>操作环境为Windows 10。</li>
<li>本文只是进行了一些基础配置，一些我没用上的功能就没有写。</li>
<li>主要作为自己搭建Hexo博客入门时的总结。</li>
</ol>
<h2 id=配置环境>配置环境</h2>
<h3 id=安装nodejs>安装Node.js</h3>
<p><a href=http://nodejs.cn/ target=_blank rel="noopener noreffer">Node.js</a> 安装完成后，打开<strong>cmd</strong>，输入<code>node -v</code>和<code>npm -v</code>，若出现版本号，即安装成功。</p>
<h3 id=安装git>安装Git</h3>
<p><a href=https://git-scm.com/downloads target=_blank rel="noopener noreffer">Git</a> 安装路径可以更改，其他安装选项一路Next即可。</p>
<ul>
<li>进行到第2步的时候，确保选中Git Bash here（默认选中），这样就可以在资源管理器的右键菜单中随时使用Git Bash here打开Git Bash。</li>
</ul>
<center><img src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/2.png></center>
<ul>
<li>进行到第6步的时候，确保选中第二项（默认选中），这样就可以在Git Bash、cmd、Power Shell和其他第三方软件中（比如VS Code中的Terminal里）使用Git。</li>
</ul>
<center><img src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/3.png></center>
<p>安装完成后在<strong>cmd</strong>中输入<code>git --version</code>，若出现版本号，即安装成功。</p>
<h3 id=更改npm仓库地址建议>更改npm仓库地址（建议）</h3>
<p>在<strong>Git Bash</strong>中进行以下操作，<strong>以后大部分的操作都在Git Bash内进行，而不用cmd了</strong>（当然也可以用，上图不是选中了Git from the command line and also from 3rd-party software嘛）</p>
<ul>
<li>随便什么地方空白处右键点击<code>Git Bash Here</code>即打开Git Bash。</li>
<li>或者直接找到Git Bash.exe打开。</li>
</ul>
<h4 id=法一改变默认地址>法一：改变默认地址</h4>
<p>输入以下命令查看当前npm的仓库地址：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm config get registry
</code></pre></td></tr></table>
</div>
</div><p>控制台会显示npm的默认仓库地址：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>https://registry.npmjs.org/
</code></pre></td></tr></table>
</div>
</div><p>使用以下命令来改变默认仓库地址为淘宝镜像地址：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm config <span class=nb>set</span> registry https://registry.npm.taobao.org
</code></pre></td></tr></table>
</div>
</div><p>然后使用命令查看当前npm的仓库地址验证是否成功更改。</p>
<p>使用这种方法，以后使用<code>npm</code>命令时，仍然输入<code>npm</code>。</p>
<h4 id=法二安装cnpm>法二：安装cnpm</h4>
<p>使用以下命令安装cnpm：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm install -g cnpm --registry<span class=o>=</span>https://registry.npm.taobao.org
</code></pre></td></tr></table>
</div>
</div><p>安装完成后输入以下命令，若出现版本号，即安装成功。</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>cnpm -v
</code></pre></td></tr></table>
</div>
</div><p>使用这种方法，以后要输入<code>cnpm</code>代替<code>npm</code>来执行命令。</p>
<h2 id=安装hexo>安装Hexo</h2>
<p>在合适的地方新建一个文件夹，名称任意。我的这个文件夹是<code>E:/Blog</code>，对于这个文件夹，</p>
<div class="details admonition note open">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>我的理解<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><p>它其实就是常提到的所谓“Hexo目录”，Hexo就安装在这里，博客的所有数据都存在这里。</p>
<p>GitHub仓库里的博客文件其实是Hexo目录下的public文件夹里的内容：</p>
<p>每次用Git Bash输入<code>hexo g</code>命令时，静态博客都会被生成到<code>E:/Blog/public</code>中，输入<code>hexo d</code>命令后，再被推送到仓库的<code>master</code>分支（默认为<code>master</code>）</p>
</div>
</div>
</div>
<div class="details admonition warning open">
<div class="details-summary admonition-title">
<i class="icon fas fa-exclamation-triangle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>不要在安装Hexo之前，先行把创建的仓库克隆到本地，然后又在该仓库文件夹下安装Hexo，这是行不通的，Hexo只能在空文件夹下安装并初始化（初始化其实就是把Hexo的项目仓库克隆到本地）。</div>
</div>
</div>
<ul>
<li>在Hexo目录下空白处右键点击<code>Git Bash Here</code>打开Git Bash。</li>
<li>或者打开Git Bash.exe，在Git Bash输入cd命令定位到Hexo目录下（大小写无所谓），比如：</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> e:/blog
</code></pre></td></tr></table>
</div>
</div><p>输入以下命令安装Hexo。会有几个报错，无视就行。</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm install hexo-cli -g
</code></pre></td></tr></table>
</div>
</div><p>安装完后输入<code>hexo -v</code>，若出现版本号，即安装成功。</p>
<p>输入<code>hexo init</code>初始化文件夹（其实就是克隆Hexo的GitHub项目仓库到此文件夹），所以速度有点慢。</p>
<p>输入<code>npm install</code>安装必备的组件。</p>
<p>输入</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i hexo-deployer-git
</code></pre></td></tr></table>
</div>
</div><p>安装推送博客到仓库要用到插件（不安装它就不能使用<code>hexo d</code>命令）</p>
<p>输入<code>hexo g</code>生成静态网页，然后输入<code>hexo s</code>打开本地服务器，用浏览器打开http://localhost:4000/ ，可以看到Hexo默认的博客网页：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/4.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/4.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/4.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/4.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/4.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/4.png></p>
<p>按<code>ctrl+c</code>关闭本地服务器。</p>
<h2 id=连接git与本地>连接Git与本地</h2>
<h3 id=全局设置git用户名和邮箱>全局设置Git用户名和邮箱</h3>
<p>在Git Bash中输入以下命令（把<code>your_name</code>改为自己的GitHub用户名）：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>git config --global user.name <span class=s2>&#34;your_name&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>输入以下命令（把<code>your_email@example.com</code>改为自己的GitHub的注册邮箱）</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>git config --global user.email <span class=s2>&#34;your_email@example.com&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>输入以下命令看是否显示自己的用户名和邮箱：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>git config --global --list
</code></pre></td></tr></table>
</div>
</div><h3 id=使用ssh连接到github>使用SSH连接到GitHub</h3>
<p>输入以下命令（把<code>your_email@example.com</code>改为自己的GitHub的注册邮箱）</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>ssh-keygen -t rsa -b <span class=m>4096</span> -C <span class=s2>&#34;your_email@example.com&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>按照提示完成三次回车（使用默认设置），即可生成 ssh key。</p>
<p>在Github个人设置中点击<code>SSH and GPG keys</code>，点击<code>New SSH Key</code>新建SSH密钥：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/5.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/5.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/5.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/5.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/5.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/5.png></p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/6.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/6.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/6.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/6.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/6.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/6.png></p>
<ul>
<li>
<p>在Git Bash输入<code>cat ~/.ssh/id_rsa.pub</code> 查看刚刚生成的个人公钥。复制输出的内容，粘贴到上图<code>key</code>框中,<code>Title</code>任意。</p>
</li>
<li>
<p>或者用记事本打开<code>C:/Users/用户名/.ssh</code>中的<code>id_rsa.pub</code>文件。复制全部内容，粘贴到上图<code>key</code>框中,<code>Title</code>任意。</p>
</li>
</ul>
<p>点击Add SSH Key。</p>
<p>在Git Bash中输入以下命令，</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>ssh -T git@github.com
</code></pre></td></tr></table>
</div>
</div><p>首次使用需要确认并添加主机到本机SSH可信列表——当出现下面这句提示时，输入<code>yes</code>回车即可：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>Are you sure you want to <span class=k>continue</span> connecting <span class=o>(</span>yes/no<span class=o>)</span>?
</code></pre></td></tr></table>
</div>
</div><p>若出现带有自己用户名的语句即为连接成功：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>Hi your_name! You<span class=err>&#39;</span>ve successfully authenticated, but GitHub does not provide shell access.
</code></pre></td></tr></table>
</div>
</div><h3 id=使用ssh连接到coding>使用SSH连接到Coding</h3>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>如果和我一样，GitHub和Coding的注册邮箱 <strong>相同</strong> 的话，这一步继续按照这篇文章来操作。</div>
</div>
</div>
<p>如果GitHub和Coding的注册邮箱 <strong>不同</strong> ，</p>
<div class="details admonition tip">
<div class="details-summary admonition-title">
<i class="icon fas fa-lightbulb fa-fw"></i>这一步请参考👉<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><p><a href=https://www.jianshu.com/p/0406cf5701e8 target=_blank rel="noopener noreffer">ssh-key git多账户配置</a></p>
<p><a href=https://gitee.com/help/articles/4229#article-header0 target=_blank rel="noopener noreffer">Git配置多个SSH-Key</a></p>
</div>
</div>
</div>
<p>Coding新增SSH的步骤和GitHub差不多</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/7.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/7.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/7.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/7.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/7.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/7.png></p>
<p align=center><img src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/8.png style=zoom:50%></p>
<p>因为我的<strong>GitHub和Coding的注册邮箱相同</strong>，所以上面生成的那个SSH也可以用于Coding。</p>
<ul>
<li>
<p>在Git Bash输入<code>cat ~/.ssh/id_rsa.pub</code> 查看个人公钥。复制输出的内容，粘贴到上图<code>公钥内容</code>框中。</p>
</li>
<li>
<p>或者用记事本打开<code>C:/Users/用户名/.ssh</code>中的<code>id_rsa.pub</code>文件。复制全部内容，粘贴到上图<code>公钥内容</code>框中。</p>
</li>
</ul>
<p>点击添加。</p>
<p>在Git Bash中输入以下命令，</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>ssh -T git@e.coding.net
</code></pre></td></tr></table>
</div>
</div><p>首次使用需要确认并添加主机到本机SSH可信列表——当出现下面这句提示时，输入<code>yes</code>回车即可：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>Are you sure you want to <span class=k>continue</span> connecting <span class=o>(</span>yes/no<span class=o>)</span>?
</code></pre></td></tr></table>
</div>
</div><p>若出现带有自己用户名的语句即为成功：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>Coding 提示: Hello your_name, You<span class=err>&#39;</span>ve connected to Coding.net via SSH. This is a personal key.
your_name，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥.
公钥指纹：************************
</code></pre></td></tr></table>
</div>
</div><h2 id=创建github-pages>创建GitHub Pages</h2>
<ol>
<li>新建一个仓库，仓库名称任意。</li>
</ol>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><p>GitHub上任意公开仓库都可使用GitHub Pages，只是URL有区别。</p>
<p>仓库名称若是 <code>username.github.io</code> ，URL就是 <a href=http://username.github.io target=_blank rel="noopener noreffer">http://username.github.io</a> ;</p>
<p>仓库名称若是其他，比如 <code>blog</code> ，URL就是 <a href=http://username.github.io/blog target=_blank rel="noopener noreffer">http://username.github.io/blog</a></p>
</div>
</div>
</div>
<ol start=2>
<li>选择“通过README文件初始化仓库”，GitHub会为此仓库开启GitHub Pages，如下图所示，提示用户“你的站点已经发布”，点进去会显示一个网页，就是刚才的README文件。</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/9.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/9.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/9.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/9.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/9.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/9.png></p>
<ol start=3>
<li>或者手动开启GitHub Pages，如下图，需要选择 <code>source</code> ，比如选择 <code>master</code> 然后点击 <code>save</code></li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GitHubPages.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GitHubPages.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GitHubPages.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GitHubPages.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GitHubPages.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GitHubPages.png></p>
<p>创建Github仓库时，如果不手动设置分支，博客会默认推送到<code>master</code>或<code>main</code>分支。</p>
<div class="details admonition warning open">
<div class="details-summary admonition-title">
<i class="icon fas fa-exclamation-triangle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>当然可以建立几个分支，一个用来发布博客（就是<code>E:/Blog/public</code>中的内容），一个用来存储整个博客基础数据（即整个Hexo目录），这样可以多设备同步写博客，只是自己的一些appid就会暴露在源码中了。</div>
</div>
</div>
<p>使用多分支的话，要记得在Hexo目录下的<code>_config.yml</code>文件中改变发布仓库的分支。</p>
<h2 id=创建coding-pages>创建Coding Pages</h2>
<div class="details admonition note">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>啰嗦几句<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><ol>
<li>
<p>Coding的静态网站服务偶尔会出现问题，所以看自己需要，没必要非得同时部署博客到GitHub和Coding。</p>
</li>
<li>
<p>其实开启了jsDelivr加速的GitHub Pages足够支撑大部分地区的浏览，要追求更快的速度，用Gitee Pages也行，它在三者之间速度最快，只是免费版本的不能自定义域名罢了。</p>
</li>
<li>
<p>Coding工作台界面更新频繁，所以文章有些地方可能对不上实际情况。</p>
</li>
</ol>
</div>
</div>
</div>
<ol>
<li>首先在Coding工作台新建一个项目</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/11.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/11.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/11.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/11.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/11.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/11.png></p>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>因为Coding工作台的更新，模板会变动，而且不同模板的功能和设置都不同，不过影响不大，功能和设置后续可以自己在项目设置里更改。</div>
</div>
</div>
<ol start=2>
<li>新建的项目地址名称也是随便填。</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/12.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/12.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/12.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/12.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/12.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/12.png></p>
<p>选中<code>启用 README.md 文件初始化项目</code>，如果不，等会儿发布静态网站时还得手动在<code>代码仓库</code>功能中选择<code>快速初始化仓库</code>。</p>
<ol start=3>
<li>建好项目后，确保项目有<code>持续集成</code>和<code>持续部署</code>这两个功能，如果没有，就在左下角的<code>项目设置</code>里，打开这两个功能的开关（所以新建项目时，选择哪个模板不重要）：</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/13.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/13.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/13.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/13.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/13.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/13.png></p>
<ol start=4>
<li>然后回到项目控制台，选择<code>持续部署</code>里的<code>静态网站</code>，点击<code>立即发布静态网站</code>，前提是已经实名认证过账号：</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/14.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/14.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/14.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/14.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/14.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/14.png></p>
<ol start=5>
<li>Coding会生成一个随机的网址作为此静态网站的地址。当然现在什么内容也没有，需要后续部署。</li>
</ol>
<h2 id=下载matery主题>下载matery主题</h2>
<ul>
<li>下载<a href=https://github.com/blinkfox/hexo-theme-matery/releases target=_blank rel="noopener noreffer">主题源码</a>，解压缩后，将<code>hexo-theme-matery</code>文件夹放到Hexo目录下的<code>themes</code>文件夹中即可。</li>
<li>也可以在Hexo目录下的<code>themes</code>文件夹中通过Git Bash输入以下命令克隆主题仓库：</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>git clone https://github.com/blinkfox/hexo-theme-matery.git
</code></pre></td></tr></table>
</div>
</div><h2 id=配置主题>配置主题</h2>
<h3 id=配置hexo的_configyml文件>配置Hexo的<code>_config.yml</code>文件</h3>
<h4 id=切换主题>切换主题</h4>
<p>在Hexo目录下的<code>_config.yml</code>文件中，修改<code>theme</code>的值（此值即为主题文件夹的名字）：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>hexo-theme-matery</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=基础设置>基础设置</h4>
<p>在Hexo目录下的<code>_config.yml</code>文件中，根据自身情况修改。</p>
<table>
<thead>
<tr>
<th style=text-align:left>参数</th>
<th style=text-align:left>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:left><code>title</code></td>
<td style=text-align:left>网站标题</td>
</tr>
<tr>
<td style=text-align:left><code>subtitle</code></td>
<td style=text-align:left>网站副标题</td>
</tr>
<tr>
<td style=text-align:left><code>description</code></td>
<td style=text-align:left>网站描述，主要用于SEO</td>
</tr>
<tr>
<td style=text-align:left><code>keywords</code></td>
<td style=text-align:left>网站的关键词。使用半角逗号<code>,</code>分隔多个关键词</td>
</tr>
<tr>
<td style=text-align:left><code>author</code></td>
<td style=text-align:left>作者名字</td>
</tr>
<tr>
<td style=text-align:left><code>language</code></td>
<td style=text-align:left>网站使用的语言。简体中文用户设为<code>zh-CN</code></td>
</tr>
<tr>
<td style=text-align:left><code>timezone</code></td>
<td style=text-align:left>网站时区。Hexo 默认使用电脑的时区</td>
</tr>
</tbody>
</table>
<h4 id=修改url>修改URL</h4>
<p>在Hexo目录下的<code>_config.yml</code>文件中，将url: <a href=http://yoursite.com target=_blank rel="noopener noreffer">http://yoursite.com</a> 改为自己的GitHub Pages链接。</p>
<h4 id=屏幕适配优化建议>屏幕适配优化（建议）</h4>
<p>在Hexo目录下的<code>_config.yml</code>文件中，修改两个<code>per_page</code>的分页条数值为<code>6</code>的倍数，如：<code>12</code>、<code>18</code>等，这样文章列表在各个屏幕下都能较好的显示。</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>index_generator</span><span class=p>:</span><span class=w>
</span><span class=w> </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span><span class=w> </span><span class=nt>per_page</span><span class=p>:</span><span class=w> </span><span class=m>12</span><span class=w>
</span><span class=w> </span><span class=nt>order_by</span><span class=p>:</span><span class=w> </span>-<span class=l>date</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>per_page</span><span class=p>:</span><span class=w> </span><span class=m>12</span><span class=w>
</span><span class=w></span><span class=nt>pagination_dir</span><span class=p>:</span><span class=w> </span><span class=l>page</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=修改deploy地址>修改deploy地址</h4>
<p>在Hexo目录下的<code>_config.yml</code>文件中：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span><span class=w>	</span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>git</span><span class=w>
</span><span class=w>	</span><span class=nt>repository</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>github</span><span class=p>:</span><span class=w> </span><span class=l>git@github.com:your_name/your_project_name.git</span><span class=w>
</span><span class=w>        </span><span class=nt>coding</span><span class=p>:</span><span class=w> </span><span class=l>git@e.coding.net:your_name/your_project_name.git</span><span class=w>
</span><span class=w>	</span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>将<code>repository</code>修改为自己的GitHub仓库和Coding仓库的SSH地址：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/15.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/15.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/15.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/15.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/15.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/15.png></p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/16.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/16.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/16.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/16.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/16.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/16.png></p>
<p>这样部署博客时就会同时部署到这两个仓库。</p>
<h4 id=修改代码高亮>修改代码高亮</h4>
<p>默认的Hexo代码高亮不好分辨，十分影响阅读，matery主题中使用 <a href=https://github.com/ele828/hexo-prism-plugin target=_blank rel="noopener noreffer">hexo-prism-plugin</a> 的Hexo插件处理代码高亮，在Git Bash中输入以下命令安装：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i -S hexo-prism-plugin --save
</code></pre></td></tr></table>
</div>
</div><p>在Hexo目录下的<code>_config.yml</code>文件中，修改<code>highlight</code>的值为<code>false</code>，然后新增<code>prism</code>插件相关的配置：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>prism_plugin</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;preprocess&#39;</span><span class=w>
</span><span class=w>  </span><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;tomorrow&#39;</span><span class=w>
</span><span class=w>  </span><span class=nt>line_number</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>custom_css</span><span class=p>:</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=增加搜索模块可选>增加搜索模块（可选）</h4>
<p>matery主题中使用 <a href=https://github.com/wzpan/hexo-generator-search target=_blank rel="noopener noreffer">hexo-generator-search</a> 的Hexo插件来做内容搜索，在Git Bash中输入以下命令安装：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm install hexo-generator-search --save
</code></pre></td></tr></table>
</div>
</div><p>在Hexo目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>search</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>search.xml</span><span class=w>
</span><span class=w>  </span><span class=nt>field</span><span class=p>:</span><span class=w> </span><span class=l>post</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=添加rss订阅支持模块可选>添加RSS订阅支持模块（可选）</h4>
<p>matery主题中使用 <a href=https://github.com/hexojs/hexo-generator-feed target=_blank rel="noopener noreffer">hexo-generator-feed</a> 的Hexo插件来支持RSS，在Git Bash中输入以下命令安装：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm install hexo-generator-feed --save
</code></pre></td></tr></table>
</div>
</div><p>在Hexo目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>feed</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>atom</span><span class=w>
</span><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>atom.xml</span><span class=w>
</span><span class=w>  </span><span class=nt>limit</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=w>
</span><span class=w>  </span><span class=nt>hub</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>content_limit</span><span class=p>:</span><span class=w> </span><span class=m>140</span><span class=w>
</span><span class=w>  </span><span class=nt>content_limit_delim</span><span class=p>:</span><span class=w> </span><span class=s1>&#39; &#39;</span><span class=w>
</span><span class=w>  </span><span class=nt>order_by</span><span class=p>:</span><span class=w> </span>-<span class=l>date</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>执行 <code>hexo clean && hexo g</code> 重新生成博客文件，在Hexo目录下的 <code>public</code> 文件夹中看到 <code>atom.xml</code> 文件，说明安装成功。</p>
<h4 id=增加中文链接转拼音模块可选>增加中文链接转拼音模块（可选）</h4>
<p>如果文章名称是中文的，那么Hexo默认生成的永久链接也会有中文，这样不利于<code>SEO</code>，而且<code>gitment</code>评论对中文链接也不支持。可以用 <a href=https://github.com/viko16/hexo-permalink-pinyin target=_blank rel="noopener noreffer">hexo-permalink-pinyin</a> 的Hexo插件使生成文章时自动生成中文拼音的永久链接。</p>
<p>在Git Bash中输入以下命令安装：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i hexo-permalink-pinyin --save
</code></pre></td></tr></table>
</div>
</div><p>在Hexo目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>permalink_pinyin</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>separator</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;-&#39;</span><span class=w>    </span><span class=c># 默认分隔符为 &#39;-&#39;，按需要自定义</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>效果就是：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-html data-lang=html>https://duduibahuang.github.io/2020/05/13/搭建博客
</code></pre></td></tr></table>
</div>
</div><p>变成：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-html data-lang=html>https://duduibahuang.github.io/2020/05/13/da-jian-bo-ke
</code></pre></td></tr></table>
</div>
</div><h4 id=增加emoji表情支持可选>增加Emoji表情支持（可选）</h4>
<p>matery主题中使用 <a href=https://npm.taobao.org/package/hexo-filter-github-emojis target=_blank rel="noopener noreffer">hexo-filter-github-emojis</a> 的 Hexo 插件来支持<code>emoji</code>表情的生成，把对应的<code>markdown emoji</code>语法（<code>::</code>,例如：<code>😄</code>）转变成<code>emoji</code>表情，在Git Bash中输入以下命令安装：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm install hexo-filter-github-emojis --save
</code></pre></td></tr></table>
</div>
</div><p>在 Hexo 目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>githubEmojis</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>className</span><span class=p>:</span><span class=w> </span><span class=l>github-emoji</span><span class=w>
</span><span class=w>  </span><span class=nt>inject</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>styles</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>customEmojis</span><span class=p>:</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h3 id=配置matery主题的_configyml文件>配置matery主题的<code>_config.yml</code>文件</h3>
<h4 id=更改图片>更改图片</h4>
<p>相关图片（比如赞赏码、文章特色图、logo等），在文件夹中替换为自己的即可，注意名称、路径、大小和分辨率。</p>
<h4 id=修改社交链接>修改社交链接</h4>
<p>在matery主题的<code>_config.yml</code>文件中，将社交连接改为自己的。</p>
<p>另外，可以在matery主题的<code>/layout/_partial/social-link.ejs</code>文件中，新增、修改自己需要的社交链接地址，增加链接可参考如下代码：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=err>&lt;</span>% if (theme.socialLink.github) { %&gt;
    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;&lt;%= theme.socialLink.github %&gt;&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;tooltipped&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>data-tooltip</span><span class=o>=</span><span class=s>&#34;访问我的GitHub&#34;</span> <span class=na>data-position</span><span class=o>=</span><span class=s>&#34;top&#34;</span> <span class=na>data-delay</span><span class=o>=</span><span class=s>&#34;50&#34;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fab fa-github&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
<span class=err>&lt;</span>% } %&gt;
</code></pre></td></tr></table>
</div>
</div><p>社交图标（如：<code>fa-github</code>）可以在 <a href=http://www.fontawesome.com.cn/ target=_blank rel="noopener noreffer">Font Awesome</a> 中找到，复制图标名称在这里替换即可。</p>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>不过要注意Font Awesome的版本和主题使用的是否一致，新版本中新增的图标在旧版本中是无法显示的。</div>
</div>
</div>
<h4 id=jsdelivr的cdn加速服务建议>jsDelivr的CDN加速服务（建议）</h4>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>第一次使用此功能，要先配置url，再<code>hexo clean && hexo g && hexo d</code>部署到GitHub的仓库（必须是GitHub的仓库）。</div>
</div>
</div>
<p>URL配置规则：<code>https://cdn.jsdelivr.net/gh/GitHub用户名/仓库名</code>，在matery主题的<code>_config.yml</code>文件中最后两行，更改为自己的链接：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>jsDelivr</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>https://cdn.jsdelivr.net/gh/duduibahuang/duduibahuang.github.io</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><div class="details admonition note open">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>解释<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><ol>
<li>
<p>这样配置后生成的博客推送到GitHub的仓库中，然后jsDelivr访问该仓库，为这些文件提供CDN服务（具体可以到 <a href=https://www.jsdelivr.com/ target=_blank rel="noopener noreffer">jsDelivr官网</a> 查看详细规则）。</p>
</li>
<li>
<p>只要将上面的URL配置好就算开启了jsDelivr加速服务，别的文件引用链接不用改为jsDelivr要求的格式，会自动更改的。</p>
</li>
<li>
<p>虽然理论上jsDelivr会引用最新版本的文件，但是更新时间有点长，可能会导致网页显示上一版本的内容。</p>
</li>
<li>
<p>配置了此项，就代表着本地调试的时候，网站依然会去GitHub请求资源（原来的资源），本地调试的时候记得将此项配置注释或者删除掉。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="details admonition example open">
<div class="details-summary admonition-title">
<i class="icon fas fa-list-ol fa-fw"></i>不启用加速<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>这时，博客网站会从GitHub的服务器中加载需要的资源，因为GitHub的服务器在国外，所以网站加载速度慢。</div>
</div>
</div>
<p>不启用加速时，查看网站源码，文件的引用是这样的：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/17.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/17.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/17.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/17.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/17.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/17.png></p>
<div class="details admonition example open">
<div class="details-summary admonition-title">
<i class="icon fas fa-list-ol fa-fw"></i>启用加速<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>这时，博客网站会从jsDelivr的服务器中加载需要的资源，因为jsDelivr在中国有服务器，所以网站加载速度会略有提升。</div>
</div>
</div>
<p>启用加速时，查看网站源码，文件的引用是这样的：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/18.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/18.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/18.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/18.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/18.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/18.png></p>
<h4 id=百度统计可选>百度统计（可选）</h4>
<p>在matery主题的<code>_config.yml</code>文件中，找到百度统计模块，填写自己的ID：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>baiduAnalytics</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>id</span><span class=p>:</span><span class=w> 
</span></code></pre></td></tr></table>
</div>
</div><p>在 <a href=https://tongji.baidu.com/ target=_blank rel="noopener noreffer">百度统计</a> 中新建网站，完成后会让你复制代码粘贴到自己的文件中，在<code>hm.src = "https://hm.baidu.com/hm.js?</code>之后的字符串就是你的ID：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/BaiduAnalytics.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/BaiduAnalytics.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/BaiduAnalytics.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/BaiduAnalytics.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/BaiduAnalytics.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/BaiduAnalytics.png></p>
<p>其实打开<code>matery/layout/_partial/baidu-analytics.ejs</code>就会发现，百度统计让你复制的代码已经在这里了，只是没有ID，意思就是matery主题的作者已经把这个功能集成了。</p>
<h4 id=谷歌统计可选>谷歌统计（可选）</h4>
<p>在matery主题的<code>_config.yml</code>文件中，找到谷歌统计模块，填写自己的ID：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>googleAnalytics</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>id</span><span class=p>:</span><span class=w> 
</span></code></pre></td></tr></table>
</div>
</div><p>在 <a href=https://analytics.google.com target=_blank rel="noopener noreffer">谷歌统计</a> 中添加自己的网站，找到自己的跟踪ID：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GoogleAnalytics.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GoogleAnalytics.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GoogleAnalytics.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GoogleAnalytics.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GoogleAnalytics.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/GoogleAnalytics.png></p>
<h3 id=新增博客功能页面可选>新增博客功能页面（可选）</h3>
<h4 id=新建分类-categories-页>新建分类 categories 页</h4>
<p><code>categories</code>页是用来展示所有分类的页面，如果hexo目录下的<code>source</code>目录中还没有<code>/categories/index.md</code>文件，使用Git Bash运行以下命令新建：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>hexo new page <span class=s2>&#34;categories&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>编辑刚刚新建的页面文件<code>/source/categories/index.md</code>，至少需要以下内容：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>categories</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-05-13 22:06:28</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;categories&#34;</span><span class=w>
</span><span class=w></span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;categories&#34;</span><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=新建标签-tags-页>新建标签 tags 页</h4>
<p><code>tags</code>页是用来展示所有标签的页面，如果hexo目录下的<code>source</code>目录中还没有<code>/tags/index.md</code>文件，使用Git Bash运行以下命令新建：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>hexo new page <span class=s2>&#34;tags&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>编辑刚刚新建的页面文件<code>/source/tags/index.md</code>，至少需要以下内容：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>tags</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-05-13 22:06:28</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;tags&#34;</span><span class=w>
</span><span class=w></span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;tags&#34;</span><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=新建留言板-contact-页>新建留言板 contact 页</h4>
<p><code>contact</code>页是用来展示留言板信息的页面，如果hexo目录下的<code>source</code>目录中还没有<code>/contact/index.md</code>文件，使用Git Bash运行以下命令新建：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>hexo new page <span class=s2>&#34;contact&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>编辑刚刚新建的页面文件<code>/source/contact/index.md</code>，至少需要以下内容：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>contact</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-05-14 10:40:01</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;contact&#34;</span><span class=w>
</span><span class=w></span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;contact&#34;</span><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>本留言板功能依赖于第三方评论插件，需要启用自己的的评论系统才有效果。评论模块设置在matery目录下的<code>_config.yml</code>文件中。</div>
</div>
</div>
<h4 id=新增评论插件>新增评论插件</h4>
<p>评论插件的选择可以看云游君的这篇 <a href=https://www.yunyoujun.cn/share/third-party-comment-system/ target=_blank rel="noopener noreffer">第三方评论系统之我见</a> 。</p>
<p>首先来到 <a href=https://www.leancloud.cn/ target=_blank rel="noopener noreffer">Valine官网</a>，创建新应用，之后在应用的设置里复制 <code>AppId</code> 和 <code>AppKey</code> 。</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/19.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/19.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/19.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/19.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/19.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/19.png></p>
<p>在matery目录下的 <code>_config.yml</code> 文件中，填写刚刚复制的AppId 和 AppKey。</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># Valine 评论模块的配置，默认为不激活，如要使用，就请激活该配置项，并设置 appId 和 appKey.</span><span class=w>
</span><span class=w></span><span class=nt>valine</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>appId</span><span class=p>:</span><span class=w> 
</span><span class=w>  </span><span class=nt>appKey</span><span class=p>:</span><span class=w> 
</span><span class=w>  </span><span class=nt>notify</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>verify</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>visitor</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>avatar: &#39;mm&#39; # Gravatar style </span><span class=p>:</span><span class=w> </span><span class=l>mm/identicon/monsterid/wavatar/retro/hide</span><span class=w>
</span><span class=w>  </span><span class=nt>pageSize</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span><span class=w>  </span><span class=nt>placeholder</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;说点什么&#39;</span><span class=w> </span><span class=c># Comment Box placeholder</span><span class=w>
</span><span class=w>  </span><span class=nt>background</span><span class=p>:</span><span class=w> </span><span class=c>#放上图片的地址</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>在该文件的400行左右，可以按需要更改引用Valine插件的地址：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>valine</span><span class=p>:</span><span class=w> </span><span class=l>/libs/valine/Valine.min.js</span><span class=w>
</span><span class=w></span><span class=c>#若想保持最新版，请替换为https://unpkg.com/valine/dist/Valine.min.js，默认为/libs/valine/Valine.min.js</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><div class="details admonition failure open">
<div class="details-summary admonition-title">
<i class="icon fas fa-times-circle fa-fw"></i>然而<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>然而如果使用 <a href=https://unpkg.com/valine/dist/Valine.min.js target=_blank rel="noopener noreffer">https://unpkg.com/valine/dist/Valine.min.js</a> 这个链接，同时jsDelivr的CDN加速服务处于启用状态，就会导致Valine加载失败（具体可以看加载失败的网页源代码，会发现引用Valine插件的地址被jsDelivr变成了错误的地址）。</div>
</div>
</div>
<div class="details admonition success open">
<div class="details-summary admonition-title">
<i class="icon fas fa-check-circle fa-fw"></i>解决方案<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>可以手动下载最新版Valine.min.js覆盖的本地<code>/themes/matery/source/libs/valine/Valine.min.js</code>，然后调用本地链接。</div>
</div>
</div>
<p>Valine的留言管理是通过操作数据库完成的：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/20.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/20.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/20.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/20.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/20.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/20.png></p>
<p>Valine目前使用的是 <a href=http://cn.gravatar.com/ target=_blank rel="noopener noreffer">Gravatar</a> 作为评论列表头像。请自行登录或注册 <a href=http://cn.gravatar.com/ target=_blank rel="noopener noreffer">Gravatar</a>，然后修改自己的头像。</p>
<p>评论的时候，留下在 <a href=http://cn.gravatar.com/ target=_blank rel="noopener noreffer">Gravatar</a> 注册时所使用的邮箱即可。</p>
<p>修改matery目录下<code>_config.yml</code>文件中的Valine模块即可更改默认非自定义头像：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=l>Valine</span><span class=w>
</span><span class=w></span><span class=nn>...</span><span class=w>
</span><span class=w></span><span class=nt>avatar: &#39;mp&#39; # Gravatar style </span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=l>/mp/identicon/monsterid/wavatar/retro/robohash/hide</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><div class="details admonition quote">
<div class="details-summary admonition-title">
<i class="icon fas fa-quote-right fa-fw"></i>avatar可选值<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><p>目前Gravatar的非自定义头像有以下8种默认值可选:</p>
<table>
<thead>
<tr>
<th style=text-align:center>参数值</th>
<th style=text-align:center>表现形式</th>
<th style=text-align:left>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:center>空字符串<code>''</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40" title=Gravatar官方图形></td>
<td style=text-align:left>Gravatar官方图形</td>
</tr>
<tr>
<td style=text-align:center><code>mp</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mp" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mp, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mp 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mp 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mp" title=神秘人(一个灰白头像)></td>
<td style=text-align:left>神秘人(一个灰白头像)</td>
</tr>
<tr>
<td style=text-align:center><code>identicon</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon" title=抽象几何图形></td>
<td style=text-align:left>抽象几何图形</td>
</tr>
<tr>
<td style=text-align:center><code>monsterid</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=monsterid" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=monsterid, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=monsterid 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=monsterid 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=monsterid" title=小怪物></td>
<td style=text-align:left>小怪物</td>
</tr>
<tr>
<td style=text-align:center><code>wavatar</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=wavatar" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=wavatar, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=wavatar 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=wavatar 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=wavatar" title=用不同面孔和背景组合生成的头像></td>
<td style=text-align:left>用不同面孔和背景组合生成的头像</td>
</tr>
<tr>
<td style=text-align:center><code>retro</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=retro" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=retro, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=retro 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=retro 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=retro" title=八位像素复古头像></td>
<td style=text-align:left>八位像素复古头像</td>
</tr>
<tr>
<td style=text-align:center><code>robohash</code></td>
<td style=text-align:center><img class=lazyload src=/svg/loading.min.svg data-src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=robohash" data-srcset="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=robohash, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=robohash 1.5x, https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=robohash 2x" data-sizes=auto alt="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=robohash" title=机器人></td>
<td style=text-align:left>一种具有不同颜色、面部等的机器人</td>
</tr>
<tr>
<td style=text-align:center><code>hide</code></td>
<td style=text-align:center></td>
<td style=text-align:left>不显示头像</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<h4 id=新建友情链接-friends-页>新建友情链接 friends 页</h4>
<p><code>friends</code>页是用来展示友情链接信息的页面，如果hexo目录下的<code>source</code>目录中还没有<code>/friends/index.md</code>文件，使用Git Bash运行以下命令新建：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>hexo new page <span class=s2>&#34;friends&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>编辑刚刚新建的页面文件<code>/source/friends/index.md</code>，至少需要以下内容：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>friends</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-05-14 10:45:11</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;friends&#34;</span><span class=w>
</span><span class=w></span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;friends&#34;</span><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>在hexo目录下的<code>source</code>目录中新建<code>_data</code>目录，在<code>_data</code>目录中新建<code>friends.json</code>文件，文件内容示例如下所示：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=p>[</span>{<span class=w>
</span><span class=w>    </span><span class=nt>&#34;avatar&#34;: </span><span class=s2>&#34;https://cdn.jsdelivr.net/gh/duduibahuang/photo/avatar.jpg&#34;</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=nt>&#34;name&#34;: </span><span class=s2>&#34;闪烁之狐&#34;</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=nt>&#34;introduction&#34;: </span><span class=s2>&#34;Matery主题作者&#34;</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=nt>&#34;url&#34;: </span><span class=s2>&#34;https://blinkfox.github.io/&#34;</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=nt>&#34;title&#34;: </span><span class=s2>&#34;前去学习&#34;</span><span class=w>
</span><span class=w></span>}<span class=p>]</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h4 id=新建404页>新建404页</h4>
<p>matery主题没有404页面，在hexo目录下的<code>source</code>目录中新建一个<code>404.md</code>，内容如下：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=m>404</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-05-14 10:45:11</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;404&#34;</span><span class=w>
</span><span class=w></span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;404&#34;</span><span class=w>
</span><span class=w></span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;你来到了没有知识的荒原 &#34;</span><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>然后在matery主题文件夹的<code>layout</code>目录下新建一个<code>404.ejs</code>文件，内容如下：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/css&#34;</span><span class=p>&gt;</span>
    <span class=c>/* don&#39;t remove. */</span>
    <span class=p>.</span><span class=nc>about-cover</span> <span class=p>{</span>
        <span class=k>height</span><span class=p>:</span> <span class=mi>75</span><span class=kt>vh</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;bg-cover pd-header about-cover&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;container&#34;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;row&#34;</span><span class=p>&gt;</span>
            <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;col s10 offset-s1 m8 offset-m2 l8 offset-l2&#34;</span><span class=p>&gt;</span>
                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;brand&#34;</span><span class=p>&gt;</span>
                    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;title center-align&#34;</span><span class=p>&gt;</span>
                        404
                    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
                    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;description center-align&#34;</span><span class=p>&gt;</span>
                        <span class=err>&lt;</span>%= page.description %&gt;
                    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
    <span class=c1>// 每天切换 banner 图.  Switch banner image every day.
</span><span class=c1></span>    <span class=nx>$</span><span class=p>(</span><span class=s1>&#39;.bg-cover&#39;</span><span class=p>).</span><span class=nx>css</span><span class=p>(</span><span class=s1>&#39;background-image&#39;</span><span class=p>,</span> <span class=s1>&#39;url(/medias/banner/&#39;</span> <span class=o>+</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>getDay</span><span class=p>()</span> <span class=o>+</span> <span class=s1>&#39;.jpg)&#39;</span><span class=p>);</span>
<span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id=新增分享插件>新增分享插件</h4>
<p>在matery目录下的<code>_config.yml</code>文件中，默认有两种选择，sharejs和addthis：</p>
<ol>
<li><a href=https://github.com/overtrue/share.js/ target=_blank rel="noopener noreffer">sharejs</a></li>
</ol>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># 支持顺序，可选项目为twitter, facebook, google, qq, qzone, wechat, weibo, douban, linkedin.</span><span class=w>
</span><span class=w></span><span class=nt>sharejs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>  </span><span class=nt>sites</span><span class=p>:</span><span class=w> </span><span class=l>twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>matery的sharejs文件在matery目录下的<code>source/libs/share/js</code>中，不过是压缩后的<code>min.js</code>文件。</p>
</blockquote>
<ol start=2>
<li><a href=https://www.addthis.com/ target=_blank rel="noopener noreffer">AddThis</a></li>
</ol>
<p>首先到官网创建新应用，之后复制应用的pubid：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/21.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/21.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/21.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/21.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/21.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/21.png></p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>addthis</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>  </span><span class=nt>pubid</span><span class=p>:</span><span class=w> </span><span class=c>#输入应用的pubid</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h2 id=文章设置>文章设置</h2>
<h3 id=front-matter设置建议>Front-matter设置（建议）</h3>
<p>为了新建文章方便，将Hexo目录下<code>/scaffolds/post.md</code>、<code>/scaffolds/page.md</code>、<code>/scaffolds/draft.md</code>都修改为：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>title }}</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>date }}</span><span class=w>
</span><span class=w></span><span class=nt>img</span><span class=p>:</span><span class=w> 
</span><span class=w></span><span class=nt>top</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w></span><span class=nt>cover</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w></span><span class=nt>coverImg</span><span class=p>:</span><span class=w> 
</span><span class=w></span><span class=nt>toc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w></span><span class=nt>mathjax</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w></span><span class=nt>summary</span><span class=p>:</span><span class=w> 
</span><span class=w></span><span class=nt>categories</span><span class=p>:</span><span class=w> 
</span><span class=w></span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span><span class=w></span><span class=nt>keywords</span><span class=p>:</span><span class=w>
</span><span class=w></span><span class=nn>---</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>这样以后新建文章后不用自己补充了，修改信息即可，每篇文章的这些属性可以单独设置。</p>
<h3 id=front-matter选项解释>Front-matter选项解释</h3>
<p>这些内容均为非必填的。但至少填写<code>title</code>和<code>date</code>的值。</p>
<div class="details admonition quote">
<div class="details-summary admonition-title">
<i class="icon fas fa-quote-right fa-fw"></i>解释<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><table>
<thead>
<tr>
<th>配置选项</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td><code>Markdown</code>的文件标题</td>
<td>文章标题</td>
</tr>
<tr>
<td>date</td>
<td>文件创建时的日期时间</td>
<td>发布时间。尽量保证每篇文章的该值是唯一的，因为本主题中<code>Gitalk</code>和<code>Gitment</code>识别<code>id</code>是通过<code>date</code>的值来作为唯一标识的</td>
</tr>
<tr>
<td>author</td>
<td>Hexo目录下<code>_config.yml</code>中的<code>author</code></td>
<td>文章作者</td>
</tr>
<tr>
<td>img</td>
<td><code>featureImages</code>中的某个值</td>
<td>文章特征图，推荐使用图床</td>
</tr>
<tr>
<td>top</td>
<td><code>true</code></td>
<td>是否作为首页推荐文章</td>
</tr>
<tr>
<td>cover</td>
<td><code>false</code></td>
<td>是否将文章加入到首页轮播封面中</td>
</tr>
<tr>
<td>coverImg</td>
<td>无</td>
<td>该文章在首页轮播封面需要显示的图片，如果没有，则默认使用文章的特色图片</td>
</tr>
<tr>
<td>password</td>
<td>无</td>
<td>是否设置本文章的阅读验证密码。该值必须是用<code>SHA256</code>加密后的密码，若启用，前提是在主题的<code>config.yml</code>中激活了<code>verifyPassword</code>选项</td>
</tr>
<tr>
<td>toc</td>
<td><code>true</code></td>
<td>本文章是否开启是否开启TOC。若启用，前提是在主题的<code>config.yml</code>中激活了<code>toc</code>选项</td>
</tr>
<tr>
<td>mathjax</td>
<td><code>false</code></td>
<td>本文章是否开启数学公式支持。若启用，前提是在主题的<code>config.yml</code>中激活了<code>mathjax</code>选项</td>
</tr>
<tr>
<td>summary</td>
<td>无</td>
<td>如果这个属性有值，文章摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</td>
</tr>
<tr>
<td>categories</td>
<td>无</td>
<td>文章分类</td>
</tr>
<tr>
<td>tags</td>
<td>无</td>
<td>文章标签，一篇文章可以多个标签</td>
</tr>
<tr>
<td>keywords</td>
<td>文章标题</td>
<td>文章关键字，SEO 时需要</td>
</tr>
<tr>
<td>reprintPolicy</td>
<td>cc_by</td>
<td>文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="details admonition tip">
<div class="details-summary admonition-title">
<i class="icon fas fa-lightbulb fa-fw"></i>多个tags写法👇<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content></div>
</div>
</div>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>tags</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=l>Typora</span><span class=w>
</span><span class=w>  </span>- <span class=l>Markdown</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h2 id=新建文章picgo配置图床与发布>新建文章、PicGo配置图床与发布</h2>
<h3 id=新建文章>新建文章</h3>
<p>在Hexo目录下，Git Bash Here，输入<code>hexo new post "文章名称"</code>，新建一篇文章。</p>
<p>然后打开Hexo目录下<code>source/_posts</code>，发现多了一个markdown文件，这就是刚刚新建的文章。</p>
<h3 id=配置图床建议>配置图床（建议）</h3>
<p>众所周知，Markdown文件是不能像Word那样把图片嵌入文件里的，即图片不是跟着文件走的。如果插入的是本地图片，发布了博客之后，就会发现文章里没有图片。所以一般选择插入网络图片的形式。</p>
<p>这时要有一个方便又快速的上传工具，会加快写作的效率。</p>
<div class="details admonition example open">
<div class="details-summary admonition-title">
<i class="icon fas fa-list-ol fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><ul>
<li>不要把隐私图片上传到图床中。</li>
<li>以下方法基于 <a href=https://github.com/Molunerfinn/PicGo/releases/tag/v2.3.0-beta.0 target=_blank rel="noopener noreffer">PicGo2.3.0-beta.0</a> 和 <a href=https://typora.io/#windows target=_blank rel="noopener noreffer">Typora0.9.86(beta)</a></li>
<li>PicGo默认支持SM.MS图床、腾讯云COS、Github图床、七牛图床、Imgur图床、阿里云OSS、又拍云图床，更多支持可以根据 <a href=https://github.com/PicGo/Awesome-PicGo target=_blank rel="noopener noreffer">PicGo插件</a> 自行配置，下面我只列举了几个适合新手的。</li>
<li>Typora自动上传需要PicGo(app)保持在后台运行。</li>
<li>如果习惯用命令行的话，<a href=https://picgo.github.io/PicGo-Core-Doc/ target=_blank rel="noopener noreffer">PicGo-Core</a> 更舒适。</li>
</ul>
</div>
</div>
</div>
<h4 id=法一>法一</h4>
<p><a href=https://zhuanlan.zhihu.com/p/102594554 target=_blank rel="noopener noreffer">PicGo+Gitee图床+Typora</a>，<strong>稳定</strong>。</p>
<div class="details admonition warning open">
<div class="details-summary admonition-title">
<i class="icon fas fa-exclamation-triangle fa-fw"></i>引用限制<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>Gitee中超过1MB的文件无法使用外链引用。</div>
</div>
</div>
<p>在Typora中引用Gitee的图片，格式是这样的（PicGo默认自动复制的也是这个格式）：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=l>https://gitee.com/用户名/仓库名/raw/master/图片名</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>而不是用直接在网页地址栏复制的链接：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=l>https://gitee.com/用户名/仓库名/blob/master/图片名</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p><strong>即<code>仓库名</code>与<code>master</code>之间的是<code>raw</code>而不是<code>其他字符</code></strong>，不然图片显示不出来。这是两种不同的协议。</p>
<div class="details admonition question open">
<div class="details-summary admonition-title">
<i class="icon fas fa-question-circle fa-fw"></i>上传成功但显示失败<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>如果在Typora中插入中文名的图片上传到<strong>Gitee</strong>，虽然PicGo也能自动上传成功，但是在Typora中显示不出来。</div>
</div>
</div>
<div class="details admonition success open">
<div class="details-summary admonition-title">
<i class="icon fas fa-check-circle fa-fw"></i>解决办法<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>把Typora的<code>偏好设置</code>→<code>图像</code>→<code>插入图片时自动转义图片URL功能</code>打开。这样以后再插入中文名图片就一切正常了，不过在这之前插入的中文名图片还是不能显示，需要重新插入（自动转义、上传）。</div>
</div>
</div>
<h4 id=法二>法二</h4>
<p>PicGo+<a href=https://sm.ms/ target=_blank rel="noopener noreffer">SM.MS图床</a>+Typora，<strong>稳定</strong>，普通用户免费空间有5GB，在PicGo里配置很简单，只要粘贴上自己的token即可。</p>
<h4 id=法三>法三</h4>
<p><a href=https://picgo.github.io/PicGo-Doc/zh/guide/config.html#github%E5%9B%BE%E5%BA%8A target=_blank rel="noopener noreffer">PicGo+GitHub图床+Typora</a>，<strong>非常不稳定</strong>，经常上传失败。</p>
<p><strong>上传失败的几个原因</strong></p>
<ol>
<li>Typora提示：<code>{"success",false}</code>，这是因为同一名称的图片重复上传。</li>
<li>Typora提示：<code>Failed to fetch</code>，网络原因（比如端口的问题），具体可以在PicGo的设置里打开日志，查看原因。</li>
<li>据说图片上传时间的间隔太短会受到Github服务器限制（不知真假）。</li>
<li>PicGo自身的bug。</li>
<li>Typora自身的bug。</li>
</ol>
<div class="details admonition note">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>其他原因<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>有人说图片名称里有 <code>+</code> ，也会导致上传失败。我试验了一下这个版本，可以正常上传，他说的可能是过时版本的情况了。</div>
</div>
</div>
<h4 id=法四>法四</h4>
<p>既然PicGo上传GitHub图床不稳定，干脆不用它了。直接在本地Git仓库文件夹里增删图片，然后通过GitHub Desktop或者Git等工具批量Pull、Push，用图片的时候在Markdown里粘贴图片链接即可：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-Markdown data-lang=Markdown>![](https://cdn.jsdelivr.net/gh/用户名/仓库名/图片名)
</code></pre></td></tr></table>
</div>
</div><p>缺点是图片名称容易搞混。</p>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>注意：虽然理论上jsDelivr会引用最新版本的文件，但是更新时间有点长，可能会导致网页显示同名称的上一版本图片。</div>
</div>
</div>
<h3 id=发布文章>发布文章</h3>
<h4 id=hexo常用命令>Hexo常用命令</h4>
<h5 id=hexo-clean>hexo clean</h5>
<ul>
<li>
<p>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。在某些情况（尤其是更换主题后），如果发现对站点的更改无论如何也不生效，可能需要运行该命令。</p>
</li>
<li>
<p>该命令可以简写为<code>hexo cl</code></p>
</li>
</ul>
<h5 id=hexo-generate>hexo generate</h5>
<ul>
<li>
<p>生成静态文件。</p>
</li>
<li>
<p>该命令可以简写为<code>hexo g</code></p>
</li>
</ul>
<h5 id=hexo-server>hexo server</h5>
<ul>
<li>
<p>启动服务器，开启本地预览，默认情况下，访问网址为：http://localhost:4000/</p>
</li>
<li>
<p>该命令可以简写为<code>hexo s</code></p>
</li>
</ul>
<h5 id=hexo-deploy>hexo deploy</h5>
<ul>
<li>
<p>部署之前预先生成静态文件，然后部署。</p>
</li>
<li>
<p>该命令可以简写为<code>hexo d</code></p>
</li>
</ul>
<h4 id=快速发布>快速发布</h4>
<p>编辑完文章后，</p>
<ul>
<li>在Git Bash输入以下命令即可本地预览：</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>hexo cl <span class=o>&amp;&amp;</span> hexo g <span class=o>&amp;&amp;</span> hexo s
</code></pre></td></tr></table>
</div>
</div><ul>
<li>在Git Bash输入以下命令即可部署博客到静态网站（即推送到相应仓库）：</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>hexo cl <span class=o>&amp;&amp;</span> hexo d
</code></pre></td></tr></table>
</div>
</div><div class="details admonition question open">
<div class="details-summary admonition-title">
<i class="icon fas fa-question-circle fa-fw"></i>部署成功还是失败？<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><p>推送成功后，需要稍等几秒，网站才会应用刚刚部署的相关博客或设置。</p>
<p>如果多次刷新、清理缓存都未达到效果，就要检查自己的各方面配置了。</p>
</div>
</div>
</div>
<h2 id=自定义域名可选>自定义域名（可选）</h2>
<h3 id=域名解析>域名解析</h3>
<p>首先注册一个域名，很多人都推荐在国外的服务商注册，原因大概有：</p>
<ol>
<li>可以不用实名认证</li>
<li>有大量便宜的域名注册商</li>
<li>不会像国内的一些服务商那样因为某些原因停止解析自己的域名</li>
</ol>
<p>但是，“<strong>部分</strong>国外网站注册域名便宜”说的是域名价格<strong>平均</strong>比国内便宜，指的是<strong>平均情况</strong>。所以对于个别域名，还是要货比三家。我是在 <a href=https://wanwang.aliyun.com/domain/ target=_blank rel="noopener noreffer">阿里云</a> 注册的域名，<a href=https://dnspod.cloud.tencent.com/ target=_blank rel="noopener noreffer">腾讯云</a> 也不错。</p>
<p>注册之后解析域名，可以参考下图这样添加：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/22.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/22.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/22.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/22.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/22.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/22.png></p>
<p>这样，阿里云的国外服务器为境外浏览者解析<code>shan-ren.cn</code>指向我的GitHub Pages，阿里云的国内服务器为国内浏览者解析<code>shan-ren.cn</code>指向我的Coding Pages，这就实现了分流。</p>
<div class="details admonition note">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>智能分流不靠谱<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>有人说，这种情况可以两条记录都使用默认解析线路，阿里云会智能分流。我试了，不怎么稳定。</div>
</div>
</div>
<p>DNS分流解析效果图：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/23.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/23.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/23.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/23.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/23.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/23.png></p>
<div class="details admonition tip open">
<div class="details-summary admonition-title">
<i class="icon fas fa-lightbulb fa-fw"></i>DNS Check<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>我用的是国外 <a href=https://www.whatsmydns.net/ target=_blank rel="noopener noreffer">whatsmydns</a> 查询的，用阿里云自己的DNS查询工具查不出来这种效果。</div>
</div>
</div>
<p>因为我还使用了jsDelivr的CDN加速服务，网站具体加载速度依赖jsDelivr的全球节点，不管是GitHub Pages还是Coding Pages，速度差别不大。</p>
<div class="details admonition note">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>Gitee更快但是不怎么香<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>虽然Gitee Pages速度很快，但是Gitee Pages免费版本每次在本地部署后，还得在Gitee Pages页面手动更新，而且免费版本不能自定义域名，所以我就没用Gitee Pages。</div>
</div>
</div>
<h3 id=域名绑定>域名绑定</h3>
<p>只是完成在域名服务商那里解析的步骤，还不能直接访问自己的域名转到相应的Github/Coding Pages，因为网站（Github/Coding Pages）上还需要有CNAME文件（如果域名解析类型是CNAME型）来对应。</p>
<h4 id=法一-1>法一</h4>
<div class="details admonition note open">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>前提<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>前提是像我一样，把一个域名同时解析为两个域名（GitHub Pages和Coding Pages的域名）。</div>
</div>
</div>
<p>在本地Hexo目录下的<code>source</code>目录里新建名为<code>CNAME</code>的文件（没有后缀名），输入自己的解析的域名，比如我输入<code>shan-ren.cn</code>，这样<code>hexo d</code>之后，会把CNAME文件推送到我的GitHub和Coding的仓库，这样网站上就有CNAME文件来对应服务商的域名解析，输入<code>shan-ren.cn</code>就会跳转到相应的网站。</p>
<h4 id=法二-1>法二</h4>
<div class="details admonition note open">
<div class="details-summary admonition-title">
<i class="icon fas fa-pencil-alt fa-fw"></i>前提<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content>前提是解析了两个不同的域名分别指向GitHub Pages和Coding Pages。</div>
</div>
</div>
<p>这样就不能用法一了，因为一个CNAME文件放到两个网站上，两个网站都想对应解析成CNAME文件里的那个域名，这就产生了冲突导致解析失败。可以在每次<code>hexo d</code>部署之后，手动到网站上设置。</p>
<ol>
<li>在GitHub Pages仓库的设置里参考下图设置：</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/24.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/24.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/24.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/24.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/24.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/24.png></p>
<ol start=2>
<li>在Coding Pages仓库的设置里参考下图设置：</li>
</ol>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/25.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/25.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/25.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/25.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/25.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/25.png></p>
<p>要记得重新点击“立即部署”按钮：</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/26.png data-srcset="https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/26.png, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/26.png 1.5x, https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/26.png 2x" data-sizes=auto alt=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/26.png title=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/26.png></p>
<p>这样就不冲突了。只是每次都得手动设置，可能还有更好的解决方案，但我用不上，就没去琢磨。</p>
</br>
<h2 id=参考链接>参考链接</h2>
<p><a href=https://hexo.io/zh-cn/docs/ target=_blank rel="noopener noreffer">Hexo文档</a></p>
<p><a href=https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md target=_blank rel="noopener noreffer">Matery文档</a></p>
<p><a href=https://godweiyang.com/2018/04/13/hexo-blog/ target=_blank rel="noopener noreffer">韦阳的博客</a></p>
</div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>更新于 2020-05-21</span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md><span>
<a class=link-to-markdown href=/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/index.md target=_blank>阅读原始文档</a>
</span></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-hashtags=Hexo><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-hashtag=Hexo><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="分享到 Linkedin" data-sharer=linkedin data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="分享到 WhatsApp" data-sharer=whatsapp data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="分享到 Pinterest" data-sharer=pinterest data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-description="使用Github Pages和Hexo搭建个人博客" data-image=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg><i class="fab fa-pinterest fa-fw"></i></a><a href=javascript:void(0); title="分享到 Tumblr" data-sharer=tumblr data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-caption="使用Github Pages和Hexo搭建个人博客" data-tags=Hexo><i class="fab fa-tumblr fa-fw"></i></a><a href=javascript:void(0); title="分享到 Reddit" data-sharer=reddit data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="分享到 VK" data-sharer=vk data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-caption="使用Github Pages和Hexo搭建个人博客" data-image=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg><i class="fab fa-vk fa-fw"></i></a><a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg></i></a><a href=javascript:void(0); title="分享到 Instapaper" data-sharer=instapaper data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-description="使用Github Pages和Hexo搭建个人博客"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/instapaper.svg></i></a><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/><i class="fab fa-get-pocket fa-fw"></i></a><a href=javascript:void(0); title="分享到 Flipboard" data-sharer=flipboard data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建><i class="fab fa-flipboard fa-fw"></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-image=https://gitee.com/BahuangShanren/picture/raw/master/article_2020-05-21/featuredImage.svg><i class="fab fa-weibo fa-fw"></i></a><a href=javascript:void(0); title="分享到 Blogger" data-sharer=blogger data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建 data-description="使用Github Pages和Hexo搭建个人博客"><i class="fab fa-blogger fa-fw"></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建><i class="fab fa-evernote fa-fw"></i></a><a href=javascript:void(0); title="分享到 Skype" data-sharer=skype data-url=https://www.bahuangshanren.tech/%E5%B0%8F%E7%99%BD%E5%90%91hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ data-title=小白向Hexo博客搭建><i class="fab fa-skype fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/hexo/>Hexo</a></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span>
</section>
</div>
<div class=post-nav>
<a href=/adobe%E7%B3%BB%E5%88%97%E4%B8%8B%E8%BD%BD%E7%9B%B4%E9%93%BE/ class=next rel=next title=Adobe系列下载直链>Adobe系列下载直链<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id=comments><div id=tcomment></div>
<script src=https://cdn.jsdelivr.net/npm/twikoo@1.3.1/dist/twikoo.all.min.js></script>
<script>twikoo.init({envId:'twikoo-5g5ynvj52fd106ef',el:'#tcomment'})</script></div></article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line><br><br><br><br><br><a href=https://gohugo.io><img src="https://img.shields.io/badge/Frame-Hugo-blue?style=flat&logo=hugo&colorA=3F3F3F&colorB=FF4088"></a> <a href=https://hugoloveit.com/zh-cn/><img src="https://img.shields.io/badge/Theme-Loveit-blue?style=flat&colorA=3F3F3F&colorB=2D96BD"></a> <a href=https://creativecommons.org/licenses/by-nc/4.0><img src="https://img.shields.io/badge/License-CC%20BY--NC%204.0-blue?style=flat&logo=creative%20commons&colorA=3F3F3F&colorB=EF9421"></a> <a href=https://www.bahuangshanren.tech><img src="https://img.shields.io/badge/©%202021-八荒山人-blue?style=flat&colorA=3F3F3F&colorB=1B96E2"></a></div><div class=footer-line></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部>
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论>
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"3GA4KWGMX9",algoliaIndex:"blog",algoliaSearchKey:"23867dbb6057498264da074f17e10163",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body>
</html>